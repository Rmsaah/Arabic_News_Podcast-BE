spring.application.name=Arabic News Podcast - BE

# --- Database (MySQL) Configuration ---
spring.datasource.url=jdbc:mysql://${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_DATABASE}
spring.datasource.username=${MYSQL_USERNAME}
spring.datasource.password=${MYSQL_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect


# --- JPA / Hibernate ---
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=${SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=true


# --- Flyway Database Migrations ---
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.default-schema=${MYSQL_DATABASE}


# --- Server ---
server.port=8283

# --- AGENT ---
agent.base.url=${AGENT_BASE_URL:http://localhost:8001/api}


# --- CORS Configuration (for Angular Frontend) ---
# Allowed origins - add your Angular dev server and production URLs
# For development: http://localhost:4200 (default Angular dev server)
# For production: add your deployed frontend URL
app.cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:4200,http://localhost:3000}
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
app.cors.allowed-headers=*
app.cors.allow-credentials=true
app.cors.max-age=3600


# --- Logging ---
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.orm.jdbc.bind=TRACE


# Maximum file size for JSON uploads (in MB)
app.automation.max-file-size-mb=10


# --- Jackson JSON Configuration ---
# Serialize dates as ISO-8601 strings (not timestamps)
spring.jackson.serialization.write-dates-as-timestamps=false
# Use UTC timezone for all date serialization
spring.jackson.time-zone=UTC
# Pretty print JSON in development (disable in production for smaller payloads)
spring.jackson.serialization.indent-output=true